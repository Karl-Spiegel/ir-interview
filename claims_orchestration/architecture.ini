┌─────────────────────────────────────────────────────────────────┐
│             QBE Claims Allocation System Architecture           │
└─────────────────────────────────────────────────────────────────┘

Claim Input ──► ┌──────────────┐
                │   Ingestion  │ ◄─── "Water damage to commercial
                │   Gateway    │      property, $250K estimated"
                └──────┬───────┘
                       │
                       ▼
         ┌────────────────────────┐
         │    NLP/ML Pipeline     │
         │  ┌─────────────────┐   │
         │  │ Entity Extract  │   │
         │  │ - Locations     │   │
         │  │ - Damages       │   │
         │  │ - Parties       │   │
         │  └─────────────────┘   │
         │  ┌─────────────────┐   │
         │  │ Complexity Calc │   │
         │  │ - Score: 75/100 │   │
         │  │ - Urgency: High │   │
         │  └─────────────────┘   │
         └───────────┬────────────┘
                     │
    ┌────────────────┼────────────────┐
    ▼                ▼                ▼
┌─────────┐    ┌──────────┐    ┌────────────┐
│Proactive│    │ Real-time│    │ Fallback   │
│   ML    │    │  Filters │    │ Strategies │
│Matching │    │          │    │            │
└─────────┘    └──────────┘    └────────────┘
     │               │                │
     └───────────────┼────────────────┘
                     ▼
            ┌─────────────────┐
            │  Orchestration  │
            │     Engine      │
            │ - Load Balance  │
            │ - SLA Monitor   │
            │ - Rebalancing   │
            └────────┬────────┘
                     │
    ┌────────────────┼────────────────┐
    ▼                ▼                ▼
┌─────────┐    ┌──────────┐    ┌────────────┐
│ Officer │    │  Metrics │    │  Audit     │
│ Profile │    │Dashboard │    │   Trail    │
│ Service │    │(Grafana) │    │            │
└─────────┘    └──────────┘    └────────────┘

═══════════════════════════════════════════════════════════════════

ORCHESTRATION FLOW DETAIL:

1. CLAIM INGESTION
   ├─ Parse claim text & metadata
   ├─ Validate completeness
   └─ Queue for processing

2. NLP ANALYSIS PIPELINE
   ├─ Entity Recognition (spaCy)
   │  └─ Extract: persons, locations, damages, amounts
   ├─ Complexity Scoring
   │  └─ Features: medical terms, legal refs, doc count
   ├─ Category Classification (BERT)
   │  └─ Categories: property, liability, cyber, etc.
   └─ Urgency Detection
      └─ Levels: critical, high, medium, low

3. OFFICER MATCHING (PROACTIVE)
   ├─ Generate claim embedding (768-dim)
   ├─ Calculate similarity scores
   ├─ Weight by performance & workload
   └─ Return top 5 candidates

4. REAL-TIME ADJUSTMENTS (REACTIVE)
   ├─ Check officer availability
   ├─ Verify capacity limits
   ├─ Apply business rules
   └─ Filter unavailable officers

5. SMART ALLOCATION
   ├─ Strategy Selection
   │  ├─ ML_OPTIMAL: Use predictions
   │  ├─ EXPERTISE_MATCH: Match skills
   │  ├─ LOAD_BALANCED: Even distribution
   │  └─ URGENT_PRIORITY: Critical claims
   └─ Final Assignment

6. CONTINUOUS REBALANCING (5-min cycles)
   ├─ Identify workload imbalances
   ├─ Predict SLA breaches
   ├─ Transfer claims if needed
   └─ Update metrics

═══════════════════════════════════════════════════════════════════

KEY METRICS & PERFORMANCE:

Processing Capacity:
  • 10,000+ claims/month
  • <500ms analysis time
  • 99.5% uptime

Efficiency Gains:
  • 70% reduction in manual assignment
  • 30% improvement in match accuracy
  • 25% faster resolution time

Business Impact:
  • $2.3M annual savings
  • 18% increase in satisfaction
  • 40% reduction in escalations

═══════════════════════════════════════════════════════════════════

TECHNOLOGY STACK:

┌─────────────────────────────────┐
│         Application Layer        │
├─────────────────────────────────┤
│ • Python 3.9                    │
│ • FastAPI / Async               │
│ • spaCy / Transformers          │
└─────────────────────────────────┘
                │
┌─────────────────────────────────┐
│      Orchestration Layer        │
├─────────────────────────────────┤
│ • Azure Service Bus             │
│ • Redis (caching)               │
│ • Docker Swarm                  │
└─────────────────────────────────┘
                │
┌─────────────────────────────────┐
│         Data Layer              │
├─────────────────────────────────┤
│ • PostgreSQL (claims)           │
│ • Redis (state)                 │
│ • Azure Blob (documents)        │
└─────────────────────────────────┘
                │
┌─────────────────────────────────┐
│      Monitoring Layer           │
├─────────────────────────────────┤
│ • Grafana (dashboards)          │
│ • Prometheus (metrics)          │
│ • ELK Stack (logging)           │
└─────────────────────────────────┘

═══════════════════════════════════════════════════════════════════

CONNECTION TO PRAGIA:

QBE Claims System              →    Pragia IR System
─────────────────────────────────────────────────────
Claims routing                 →    Query routing
Officer expertise matching     →    Data source matching
Workload balancing            →    API rate limiting
NLP claim analysis            →    Query understanding
Real-time adjustments         →    Market event response
Compliance tracking           →    Regulatory compliance
Performance monitoring        →    System observability

Both systems require:
• Intelligent routing based on content analysis
• Proactive predictions with reactive adjustments
• Scalable architecture for high-volume processing
• Complete audit trails for compliance
• Real-time monitoring and adaptation